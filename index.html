<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="stylesheet.css" media="screen"/>
</head>
<body>
<img id="page-1" src="fishheadsoup.JPG"></img>
<img id="page-2" src="yachiyo-2.JPG"></img>
<img id="page-3" src="Pool_54.JPG"></img>
<script type = "text/javascript">
 
var id = null;
//TODO: handle more images
//TODO: startMovie page2 page3 optional
//TODO: add randomness
//startMovie animates in groups of three
//startMovie takes the name of the image and the styles as params
function startMovie(page1, page2, page3) {
    var elem1 = document.getElementById(page1); 
    var elem2 = document.getElementById(page2);
    var elem3 = document.getElementById(page3);  
    elem2.style.opacity = 0;
    elem3.style.opacity = 0;

//need to keep state here for the animate functions
    var screenHeight = screen.height;
    var screenWidth = screen.width;

    var width1 = 670;
    var height1 = 446;
    var opacity1 = 100;
    var posTop1 = screenHeight * 0.8; 
    var posLeft1 = 30;

    var width2 = 600;
    var height2 = 413;  
    var posTop2 = screenHeight * 1.2;
    var opacity2 = 100;
    var posLeft2 = 27;

    var width3 = 700;
    var height3 = 467;
    var posTop3 = screenHeight * 1.21;
    var opacity3 = 0;
    var posLeft3 = 35;

    setStyle(elem1, width1, height1, opacity1, posTop1, posLeft1);
    clearInterval(id);
    //animate functions are called on an interval
    id = setInterval(function(){
        animate();
        animateLeft();
        animateRight();
    }, 20);

    function setStyle(element, width1, height1, opacity1, top1, posLeft1) {
      element.style.top = top1 + "px";
      element.style.width = width1 + "px";
      element.style.height = height1 + "px";
      element.style.opacity = opacity1 + "%";
      element.style.left = posLeft1 + "%";
    }
    function animate() {
        posTop1 = posTop1 - 0.7;
        opacity1 = opacity1 - 0.10;
        elem1.style.top = posTop1 + "px";
        elem1.style.opacity = opacity1 + "%";
    };

    function animateLeft() {
        posTop2 = posTop2 - 0.5;
        if (posTop2 < screenHeight * 0.5) {
            posLeft2 = posLeft2 - 0.03;
            opacity2 = opacity2 - 0.08;
        }

        setStyle(elem2, width2, height2, opacity2, posTop2, posLeft2);
    };

  function animateRight() {
    if (posTop3 <= -450) {
      clearInterval(id);
    } else {
      posTop3 = posTop3 - 0.3; 
      if (posTop3 < 800) {
        opacity3 = opacity3 + 0.09;
        if (posTop3 < 500) {
        posLeft3 = posLeft3 + 0.015;
        opacity3 = opacity3 - 0.15;
        } 
      }  

      setStyle(elem3, width3, height3, opacity3, posTop3, posLeft3);
    }
  }
}
images = []
startMovie("page-1", "page-2", "page-3");

</script>
</body>
</html>
